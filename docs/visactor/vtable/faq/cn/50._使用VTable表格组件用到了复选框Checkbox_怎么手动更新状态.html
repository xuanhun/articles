<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>28. 使用VTable表格组件用到了复选框Checkbox，怎么手动更新状态？</br></title>
    <meta name="keywords" content="VisActor,VChart,VTable,VStrory,VMind,VGrammar,VRender,Visualization,Chart,Data,Table,Graph,Gis,LLM">
    <style>
        body {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
            line-height: 1.6;
            color: #24292e;
            background-color: #fff;
        }
        h1, h2, h3, h4, h5, h6 {
            margin-top: 24px;
            margin-bottom: 16px;
            font-weight: 600;
            line-height: 1.25;
        }
        h1 { font-size: 2em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h2 { font-size: 1.5em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h3 { font-size: 1.25em; }
        code {
            padding: 0.2em 0.4em;
            margin: 0;
            font-size: 85%;
            background-color: rgba(27,31,35,0.05);
            border-radius: 3px;
            font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;
        }
        pre {
            padding: 16px;
            overflow: auto;
            font-size: 85%;
            line-height: 1.45;
            background-color: #f6f8fa;
            border-radius: 6px;
        }
        pre code {
            background-color: transparent;
            padding: 0;
            font-size: 100%;
        }
        img {
            max-width: 100%;
            height: auto;
            box-sizing: content-box;
            background-color: #fff;
        }
        table {
            border-collapse: collapse;
            width: 100%;
            margin: 16px 0;
            display: block;
            overflow: auto;
        }
        table th, table td {
            padding: 6px 13px;
            border: 1px solid #d0d7de;
        }
        table th {
            font-weight: 600;
            background-color: #f6f8fa;
        }
        table tr {
            background-color: #fff;
            border-top: 1px solid #d0d7de;
        }
        table tr:nth-child(2n) {
            background-color: #f6f8fa;
        }
        a {
            color: #0969da;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        blockquote {
            padding: 0 1em;
            color: #656d76;
            border-left: 0.25em solid #d0d7de;
            margin: 0 0 16px 0;
        }
        hr {
            height: 0.25em;
            padding: 0;
            margin: 24px 0;
            background-color: #d0d7de;
            border: 0;
        }
        ul, ol {
            padding-left: 2em;
        }
        li + li {
            margin-top: 0.25em;
        }
    </style>
</head>
<body>
    <h2 id="_1">问题标题</h2>
<p>使用VTable表格组件用到了复选框Checkbox，怎么手动更新状态？</br></p>
<h2 id="_2">问题描述</h2>
<p>请问VTable的ListTable有没有手动设置复选框checkbox的方式，以及如何清空所有checkbox的选中状态？</br></p>
<h2 id="_3">解决方案</h2>
<h3 id="_4">调用接口更新状态</h3>
<p>可以调用接口<code>setCellCheckboxState</code>。 该接口的可以设置单元格的 checkbox 状态，定义如下：</br></p>
<pre class="codehilite"><code>setCellCheckboxState(col: number, row: number, checked: boolean) =&gt; void&lt;/br&gt;
</code></pre>

<p>参数说明：</br>
*  col: 列号</br>
*  row: 行号</br>
*  checked: 是否选中</br>
如<code>tableInstance.``setCellCheckboxState(0,3,true)</code> 即将位置为（0,3）的单元格的Checkbox状态设置为选中状态，官网demo修改后效果如下：https://visactor.io/vtable/demo/cell-type/checkbox</br>
<img src='https://cdn.jsdelivr.net/gh/xuanhun/articles/visactor/img/T9Aqbqg8CoQCsNxBGOPceLE1nTg.gif' alt='' width='2172' height='702'></p>
<h3 id="_5">批量更新状态</h3>
<p>第二个问题批量的话，目前还没有专门的接口可以重置所有的复选框状态。但是可以通过重置数据调用<code>setRecords</code>或者更新列配置信息调用<code>updateColumns</code>来达到更新所有复选框状态的目标。</br>
1. 通过更新列配置</br>
将列配置中添加checked为true或者false，即可设置整列状态。不过数据records中有表示状态的字段则以数据为准。</br>
<img src='https://cdn.jsdelivr.net/gh/xuanhun/articles/visactor/img/X4lobBLhUoBXspxeo2mcZm6hnAg.gif' alt='' width='2256' height='1302'></p>
<ol>
<li>通过更新records数据源来批量设置复选框状态，这种用法需要在records中对应的复选框取值字段都明确指定。</br>
<img src='https://cdn.jsdelivr.net/gh/xuanhun/articles/visactor/img/VLC9bEV39osOr8xyM8acVYyenEg.gif' alt='' width='3456' height='882'></li>
</ol>
<h2 id="_6">相关文档</h2>
<p>复选框类型用法教程：https://visactor.io/vtable/guide/cell_type/checkbox</br>
复选框demo：https://visactor.io/vtable/demo/cell-type/checkbox</br>
相关api：https://visactor.io/vtable/option/ListTable-columns-checkbox#cellType</br>
https://visactor.io/vtable/api/Methods#setCellCheckboxState</br>
github：https://github.com/VisActor/VTable</br></p>
</body>
</html>