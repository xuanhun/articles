<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>42. How to configure vchart line chart to make the points sparse in the case of big data?</br></title>
    <meta name="keywords" content="VisActor,VChart,VTable,VStrory,VMind,VGrammar,VRender,Visualization,Chart,Data,Table,Graph,Gis,LLM">
    <style>
        body {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
            line-height: 1.6;
            color: #24292e;
            background-color: #fff;
        }
        h1, h2, h3, h4, h5, h6 {
            margin-top: 24px;
            margin-bottom: 16px;
            font-weight: 600;
            line-height: 1.25;
        }
        h1 { font-size: 2em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h2 { font-size: 1.5em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h3 { font-size: 1.25em; }
        code {
            padding: 0.2em 0.4em;
            margin: 0;
            font-size: 85%;
            background-color: rgba(27,31,35,0.05);
            border-radius: 3px;
            font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;
        }
        pre {
            padding: 16px;
            overflow: auto;
            font-size: 85%;
            line-height: 1.45;
            background-color: #f6f8fa;
            border-radius: 6px;
        }
        pre code {
            background-color: transparent;
            padding: 0;
            font-size: 100%;
        }
        img {
            max-width: 100%;
            height: auto;
            box-sizing: content-box;
            background-color: #fff;
        }
        table {
            border-collapse: collapse;
            width: 100%;
            margin: 16px 0;
            display: block;
            overflow: auto;
        }
        table th, table td {
            padding: 6px 13px;
            border: 1px solid #d0d7de;
        }
        table th {
            font-weight: 600;
            background-color: #f6f8fa;
        }
        table tr {
            background-color: #fff;
            border-top: 1px solid #d0d7de;
        }
        table tr:nth-child(2n) {
            background-color: #f6f8fa;
        }
        a {
            color: #0969da;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        blockquote {
            padding: 0 1em;
            color: #656d76;
            border-left: 0.25em solid #d0d7de;
            margin: 0 0 16px 0;
        }
        hr {
            height: 0.25em;
            padding: 0;
            margin: 24px 0;
            background-color: #d0d7de;
            border: 0;
        }
        ul, ol {
            padding-left: 2em;
        }
        li + li {
            margin-top: 0.25em;
        }
    </style>
</head>
<body>
    <h1 id="title"><strong>Title</strong></h1>
<p>How to configure vchart line chart to make the points sparse in the case of big data?</br></p>
<h1 id="description"><strong>Description</strong></h1>
<p>I am using vchart to create a line chart, but there are a lot of data, which causes the points on the line chart to be very dense. I want to know if there is a way to make the points sparse through sampling or other methods?</br>
<img src='https://cdn.jsdelivr.net/gh/xuanhun/articles/visactor/img/Pi5JblDsfoD1Glx6TgjcvA8onob.gif' alt='' width='1334' height='1058'></p>
<h1 id="solution"><strong>Solution</strong></h1>
<h2 id="solution-1"><strong>Solution 1</strong></h2>
<p>Sampling can achieve this function. You can use the sampling and samplingFactor configurations to achieve this. Through the sampling configuration, you can use different sampling algorithms to sample points. The supported sampling types are:</br>
*  <code>'lttb'</code>: Use the Largest-Triangle-Three-Bucket algorithm, which can maximize the trend, shape, and extreme values of the sampled line after sampling.</br>
*  <code>'min'</code>: Take the minimum value of the filtered point.</br>
*  <code>'max'</code>: Take the maximum value of the filtered point.</br>
*  <code>'sum'</code>: Take the sum of the filtered point.</br>
*  <code>'average'</code>: Take the average value of the filtered point.</br>
Through samplingFactor, you can configure the sampling intensity, which is within the range of [0,1]. The smaller the samplingFactor, the greater the sampling intensity.</br>
Reference: <a href="https%3A%2F%2Fvisactor.io%2Fvchart%2Foption%2FlineChart%23sampling">https://visactor.io/vchart/option/lineChart#sampling</a></br></p>
<h2 id="solution-2"><strong>Solution 2</strong></h2>
<p>You can only hide the points by setting markOverlap: true.</br>
Reference: <a href="https%3A%2F%2Fvisactor.io%2Fvchart%2Foption%2FlineChart%23markOverlap">https://visactor.io/vchart/option/lineChart#markOverlap</a></br></p>
<h1 id="code-example"><strong>Code Example</strong></h1>
<pre class="codehilite"><code>const spec = {
  type: 'line',
  data: {
    values: new Array(10000).fill(0).map((_, i) =&gt; ({ time: i, value: Math.random() * 10000 }))
  },
  sampling: 'lttb',
  samplingFactor: 0.6,
  point: {
    style: {
      stroke: false
    }
  },
  xField: 'time',
  yField: 'value'
};

const vchart = new VChart(spec, { dom: CONTAINER_ID });
vchart.renderSync();

// Just for the convenience of console debugging, DO NOT COPY!
window['vchart'] = vchart;&lt;/br&gt;
</code></pre>

<h1 id="result"><strong>Result</strong></h1>
<p>After running the code, the data points are sampled to be more sparse.</br>
<img src='https://cdn.jsdelivr.net/gh/xuanhun/articles/visactor/img/FZOEbpU0eotYYcxqgufc9hhLnCc.gif' alt='' width='1330' height='1048'></p>
<p>Online demo: <a href="https%3A%2F%2Fcodesandbox.io%2Fp%2Fsandbox%2Fline-chart-single-selected-forked-4px87p%3Ffile%3D%252Fsrc%252Findex.ts%253A18%252C2">https://codesandbox.io/p/sandbox/line-chart-single-selected-forked-4px87p?file=%2Fsrc%2Findex.ts%3A18%2C2</a></br></p>
<h1 id="related-documents"><strong>Related Documents</strong></h1>
<ul>
<li>VChart line segment sampling configuration: <a href="https%3A%2F%2Fvisactor.io%2Fvchart%2Foption%2FlineChart%23sampling">https://visactor.io/vchart/option/lineChart#sampling</a></br></li>
<li>VChart point anti-overlap configuration: <a href="https%3A%2F%2Fvisactor.io%2Fvchart%2Foption%2FlineChart%23markOverlap">https://visactor.io/vchart/option/lineChart#markOverlap</a></br></li>
<li>VChart github: <a href="https%3A%2F%2Fgithub.com%2FVisActor%2FVChart">https://github.com/VisActor/VChart</a></br></li>
</ul>
</body>
</html>