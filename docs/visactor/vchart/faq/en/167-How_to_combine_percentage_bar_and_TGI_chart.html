<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>167-How_to_combine_percentage_bar_and_TGI_chart</title>
    <meta name="keywords" content="">
    <style>
        body {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
            line-height: 1.6;
            color: #24292e;
            background-color: #fff;
        }
        h1, h2, h3, h4, h5, h6 {
            margin-top: 24px;
            margin-bottom: 16px;
            font-weight: 600;
            line-height: 1.25;
        }
        h1 { font-size: 2em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h2 { font-size: 1.5em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h3 { font-size: 1.25em; }
        code {
            padding: 0.2em 0.4em;
            margin: 0;
            font-size: 85%;
            background-color: rgba(27,31,35,0.05);
            border-radius: 3px;
            font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;
        }
        pre {
            padding: 16px;
            overflow: auto;
            font-size: 85%;
            line-height: 1.45;
            background-color: #f6f8fa;
            border-radius: 6px;
        }
        pre code {
            background-color: transparent;
            padding: 0;
            font-size: 100%;
        }
        img {
            max-width: 100%;
            height: auto;
            box-sizing: content-box;
            background-color: #fff;
        }
        table {
            border-collapse: collapse;
            width: 100%;
            margin: 16px 0;
            display: block;
            overflow: auto;
        }
        table th, table td {
            padding: 6px 13px;
            border: 1px solid #d0d7de;
        }
        table th {
            font-weight: 600;
            background-color: #f6f8fa;
        }
        table tr {
            background-color: #fff;
            border-top: 1px solid #d0d7de;
        }
        table tr:nth-child(2n) {
            background-color: #f6f8fa;
        }
        a {
            color: #0969da;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        blockquote {
            padding: 0 1em;
            color: #656d76;
            border-left: 0.25em solid #d0d7de;
            margin: 0 0 16px 0;
        }
        hr {
            height: 0.25em;
            padding: 0;
            margin: 24px 0;
            background-color: #d0d7de;
            border: 0;
        }
        ul, ol {
            padding-left: 2em;
        }
        li + li {
            margin-top: 0.25em;
        }
    </style>
</head>
<body>
    <h1 id="how-to-combine-percentage-bar-and-tgi-chart">How to combine percentage bar and TGI chart?</h1>
<h2 id="question-description">Question Description</h2>
<p>I would like to use a front-end chart library to implement a combination of percentage bar chart and TGI chart.</p>
<p>The TGI chart uses vertical bars to represent TGI values and connects different bars with lines. As the two charts use different axes, how can we implement this?</p>
<h2 id="solution">Solution</h2>
<p>You can use @VisActor/VChart to achieve the desired effect. VChart allows multiple series to be combined in one chart. You only need to set the chart type to "common" and add bar chart and line chart series in the series. Modify the line style of the line chart to dashed line and the point style to rectangle to achieve the effect in the figure. In order to use different coordinate axes for the bar chart and line chart, three coordinate axes need to be configured in the "axes": a left band axis, a bottom linear axis for the line chart, and a linear axis for the bar chart. You can place the bar chart axis at the top and set "visible" to false. By adjusting the "max" property, you can specify the range of the axis to achieve the effect in the figure.</p>
<h2 id="code-example">Code Example</h2>
<p>The spec is as follows:</p>
<p>```javascript livedemo
const spec = {
  type: 'common',
  data: [
    {
      id: 'data',
      values: [
        { x: '2015-09-24', y: 0.6 },
        { x: '2015-09-25', y: 0.7 },
        { x: '2015-09-26', y: 0.71 },
        { x: '2015-09-27', y: 0.65 },
        { x: '2015-09-28', y: 0.53 },
        { x: '2015-09-29', y: 0.55 }
      ]
    },
    {
      id: 'data2',
      values: [
        { x: '2015-09-24', y: 40 },
        { x: '2015-09-25', y: 25 },
        { x: '2015-09-26', y: 31 },
        { x: '2015-09-27', y: 37 },
        { x: '2015-09-28', y: 28 },
        { x: '2015-09-29', y: 22 }
      ]
    }
  ],</p>
<p>series: [
    {
      type: 'bar',
      id: 'barSeries',
      direction: 'horizontal',
      dataId: 'data',
      yField: 'x',
      xField: 'y'
    },
    {
      type: 'line',
      id: 'lineSeries',
      direction: 'horizontal',
      dataId: 'data2',
      yField: 'x',
      xField: 'y',
      line: {
        style: {
          lineDash: [2, 5]
        }
      },</p>
<pre class="codehilite"><code>  point: {
    style: {
      symbolType: 'rect',
      size: 10,
      scaleX: 1,
      scaleY: 10
    }
  }
}
</code></pre>

<p>],
  axes: [
    {
      orient: 'left',
      seriesId: ['barSeries', 'lineSeries'],
      type: 'band',
      grid: {
        visible: true
      }
    },
    {
      orient: 'top',
      type: 'linear',
      max: 1.2,
      seriesId: ['barSeries'],
      grid: {
        visible: true
      },
      visible: false
    },
    {
      orient: 'bottom',
      type: 'linear',
      seriesId: ['lineSeries'],</p>
<pre class="codehilite"><code>  grid: {
    visible: true
  }
}
</code></pre>

<p>]
};</p>
<p>const vchart = new VChart(spec, { dom: CONTAINER_ID });
vchart.renderSync();</p>
<p>// Just for the convenience of console debugging, DO NOT COPY!
window['vchart'] = vchart;
```</p>
<h2 id="results">Results</h2>
<ul>
<li><a href="https://codesandbox.io/s/bar-chart-and-tgi-chart-8fkprk?file=/src/index.ts">Online Demo</a></li>
</ul>
<h2 id="quote">Quote</h2>
<ul>
<li><a href="https://visactor.io/vchart/guide/tutorial_docs/Chart_Types/Combination">VChart Combination Chart Tutorial</a></li>
<li><a href="https://visactor.io/vchart/option/commonChart#type">Related API</a></li>
<li><a href="https://github.com/VisActor/VChart">github</a></li>
</ul>
</body>
</html>