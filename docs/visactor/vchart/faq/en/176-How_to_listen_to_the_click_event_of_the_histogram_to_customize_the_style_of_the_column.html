<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>176-How_to_listen_to_the_click_event_of_the_histogram_to_customize_the_style_of_the_column</title>
    <meta name="keywords" content="">
    <style>
        body {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
            line-height: 1.6;
            color: #24292e;
            background-color: #fff;
        }
        h1, h2, h3, h4, h5, h6 {
            margin-top: 24px;
            margin-bottom: 16px;
            font-weight: 600;
            line-height: 1.25;
        }
        h1 { font-size: 2em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h2 { font-size: 1.5em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h3 { font-size: 1.25em; }
        code {
            padding: 0.2em 0.4em;
            margin: 0;
            font-size: 85%;
            background-color: rgba(27,31,35,0.05);
            border-radius: 3px;
            font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;
        }
        pre {
            padding: 16px;
            overflow: auto;
            font-size: 85%;
            line-height: 1.45;
            background-color: #f6f8fa;
            border-radius: 6px;
        }
        pre code {
            background-color: transparent;
            padding: 0;
            font-size: 100%;
        }
        img {
            max-width: 100%;
            height: auto;
            box-sizing: content-box;
            background-color: #fff;
        }
        table {
            border-collapse: collapse;
            width: 100%;
            margin: 16px 0;
            display: block;
            overflow: auto;
        }
        table th, table td {
            padding: 6px 13px;
            border: 1px solid #d0d7de;
        }
        table th {
            font-weight: 600;
            background-color: #f6f8fa;
        }
        table tr {
            background-color: #fff;
            border-top: 1px solid #d0d7de;
        }
        table tr:nth-child(2n) {
            background-color: #f6f8fa;
        }
        a {
            color: #0969da;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        blockquote {
            padding: 0 1em;
            color: #656d76;
            border-left: 0.25em solid #d0d7de;
            margin: 0 0 16px 0;
        }
        hr {
            height: 0.25em;
            padding: 0;
            margin: 24px 0;
            background-color: #d0d7de;
            border: 0;
        }
        ul, ol {
            padding-left: 2em;
        }
        li + li {
            margin-top: 0.25em;
        }
    </style>
</head>
<body>
    <h1 id="how-to-listen-to-the-click-event-of-the-histogram-to-customize-the-style-of-the-column">How to listen to the click event of the histogram to customize the style of the column?</h1>
<h2 id="question-description">Question Description</h2>
<p>I want to listen to the click event of each column in a bar chart, and if the column is clicked, it will be painted in a different color, probably like this:</p>
<p><img alt="bar" src="/vchart/faq/78-0.png" /></p>
<p>But after the click event is triggered, I don't want to re-render the entire chart. It is better to have a smooth transition effect on the current chart. How should this be achieved?</p>
<h2 id="solution">Solution</h2>
<p>VChart provides built-in hover and select states for each chart element. Developers do not need to monitor the click event of the column themselves. They only need to declare the style in the select state in the corresponding primitive configuration to achieve the effect of rendering the column in different colors after being selected.</p>
<p>At the same time, in the VChart histogram, the update animation is enabled by default for visual channel changes of column marks. When the color changes, the rendering effect of the column will smoothly transition to the final state.</p>
<h2 id="code-example">Code Example</h2>
<p>```javascript livedemo
const spec = {
  type: 'bar',
  data: [
    {
      id: 'barData',
      values: [
        { month: 'Monday', sales: 22 },
        { month: 'Tuesday', sales: 13 },
        { month: 'Wednesday', sales: 25 },
        { month: 'Thursday', sales: 29 },
        { month: 'Friday', sales: 38 }
      ]
    }
  ],
  xField: 'month',
  yField: 'sales',
  bar: {
    state: {
      selected: {
        fill: 'red'
      }
    }
  }
};</p>
<p>const vchart = new VChart(spec, { dom: CONTAINER_ID });
vchart.renderSync();</p>
<p>// Just for the convenience of console debugging, DO NOT COPY!
window['vchart'] = vchart;
```</p>
<h2 id="quote">Quote</h2>
<ul>
<li><a href="https://github.com/VisActor/VChart">github</a></li>
<li><a href="https://www.visactor.io/vchart/option/barChart#bar.state">barChart bar state spec</a></li>
</ul>
</body>
</html>